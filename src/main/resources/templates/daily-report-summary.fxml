<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1"
    fx:controller="top.jionjion.work.controller.DailyReportSummaryController"
    spacing="15" styleClass="bg-white,rounded,shadow">
    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
    </padding>

    <!-- 标题 -->
    <Label text="日志管理" styleClass="text-primary" style="-fx-font-size: 24px; -fx-font-weight: bold;" />
    
    <HBox>
        <Separator HBox.hgrow="ALWAYS" />
    </HBox>

    <!-- 日历和表单区域 -->
    <SplitPane dividerPositions="0.6" prefHeight="600.0" styleClass="border-0" VBox.vgrow="ALWAYS">
        <!-- 左侧日历区域 -->
        <VBox spacing="10.0" styleClass="p-2,rounded,border">
            <children>
                <!-- 年月选择 -->
                <HBox alignment="CENTER" spacing="10.0" styleClass="mb-2">
                    <VBox.margin>
                        <Insets top="10.0"/>
                    </VBox.margin>
                    <padding>
                        <Insets left="10.0" right="10.0"/>
                    </padding>
                    <Button fx:id="prevMonthBtn" text="&lt;"
                        styleClass="btn,btn-outline-primary"/>
                    <Label fx:id="currentMonthLabel" text="2025年10月" styleClass="h4,text-dark,font-weight-bold"
                           style="-fx-font-size: 18px;">
                    </Label>
                    <Button fx:id="nextMonthBtn" text="&gt;"
                        styleClass="btn,btn-outline-primary"/>
                </HBox>

                <!-- 星期标题 -->
                <GridPane fx:id="weekHeaderGrid" hgap="0.0" vgap="0.0" styleClass="mb-1">
                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0"/>
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                    </rowConstraints>
                    <padding>
                        <Insets left="2.0" right="2.0"/>
                    </padding>
                    <Label text="一" styleClass="text-center,font-weight-bold,text-muted" GridPane.columnIndex="0"
                           GridPane.halignment="CENTER" style="-fx-font-size: 16px;">
                        <font>
                            <Font size="16.0"/>
                        </font>
                    </Label>
                    <Label text="二" styleClass="text-center,font-weight-bold,text-muted" GridPane.columnIndex="1"
                           GridPane.halignment="CENTER" style="-fx-font-size: 16px;">
                        <font>
                            <Font size="16.0"/>
                        </font>
                    </Label>
                    <Label text="三" styleClass="text-center,font-weight-bold,text-muted" GridPane.columnIndex="2"
                           GridPane.halignment="CENTER" style="-fx-font-size: 16px;">
                        <font>
                            <Font size="16.0"/>
                        </font>
                    </Label>
                    <Label text="四" styleClass="text-center,font-weight-bold,text-muted" GridPane.columnIndex="3"
                           GridPane.halignment="CENTER" style="-fx-font-size: 16px;">
                        <font>
                            <Font size="16.0"/>
                        </font>
                    </Label>
                    <Label text="五" styleClass="text-center,font-weight-bold,text-muted" GridPane.columnIndex="4"
                           GridPane.halignment="CENTER" style="-fx-font-size: 16px;">
                        <font>
                            <Font size="16.0"/>
                        </font>
                    </Label>
                    <Label text="六" styleClass="text-center,font-weight-bold,text-danger" GridPane.columnIndex="5"
                           GridPane.halignment="CENTER" style="-fx-font-size: 16px;">
                        <font>
                            <Font size="16.0"/>
                        </font>
                    </Label>
                    <Label text="日" styleClass="text-center,font-weight-bold,text-danger" GridPane.columnIndex="6"
                           GridPane.halignment="CENTER" style="-fx-font-size: 16px;">
                        <font>
                            <Font size="16.0"/>
                        </font>
                    </Label>
                </GridPane>

                <!-- 日历主体 -->
                <GridPane fx:id="calendarGrid" hgap="0.0" vgap="0.0" VBox.vgrow="ALWAYS"
                    styleClass="border,rounded">
                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="30.0" />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints minHeight="30.0" vgrow="ALWAYS" />
                        <RowConstraints minHeight="30.0" vgrow="ALWAYS" />
                        <RowConstraints minHeight="30.0" vgrow="ALWAYS" />
                        <RowConstraints minHeight="30.0" vgrow="ALWAYS" />
                        <RowConstraints minHeight="30.0" vgrow="ALWAYS" />
                        <RowConstraints minHeight="30.0" vgrow="ALWAYS" />
                    </rowConstraints>
                    <padding>
                        <Insets left="2.0" right="2.0" top="2.0" bottom="2.0" />
                    </padding>
                    <!-- 日历日期按钮将在这里动态生成 -->
                </GridPane>
            </children>
        </VBox>

        <!-- 右侧表单区域 -->
        <VBox spacing="15.0" styleClass="p-3,rounded,border">
            <padding>
                <Insets left="10.0" right="10.0"/>
            </padding>
            <Label fx:id="formTitleLabel" text="日报详情" styleClass="h4,text-primary">
                <VBox.margin>
                    <Insets top="10.0"/>
                </VBox.margin>
                <font>
                    <Font size="16.0"/>
                </font>
            </Label>

            <!-- 周报副标题 -->
            <Label fx:id="formSubTitleLabel" text="" styleClass="text-muted,mb-2"
                   visible="false">
                <font>
                    <Font size="12.0"/>
                </font>
            </Label>

            <Separator prefWidth="200.0" styleClass="my-2"/>

            <!-- 日报/周报/月报切换 -->
            <fx:define>
                <ToggleGroup fx:id="reportTypeGroup"/>
            </fx:define>
            <HBox spacing="10.0" styleClass="mb-3">
                <RadioButton fx:id="dailyReportRadio" mnemonicParsing="false"
                             selected="true" text="日报" toggleGroup="$reportTypeGroup"
                             styleClass="form-check-input"/>
                <RadioButton fx:id="weeklyReportRadio" mnemonicParsing="false" text="周报"
                             toggleGroup="$reportTypeGroup" styleClass="form-check-input"/>
            </HBox>

            <!-- 报告内容 -->
            <VBox spacing="8.0" VBox.vgrow="ALWAYS" styleClass="mb-3">
                <Label text="报告内容：" styleClass="text-dark,font-weight-bold"/>
                <TextArea fx:id="reportContentArea" prefRowCount="20"
                          promptText="点击左侧日期查看或编辑报告..." styleClass="form-control"/>
            </VBox>

            <!-- 操作按钮 -->
            <HBox spacing="10.0" styleClass="mt-2">
                <VBox.margin>
                    <Insets bottom="10.0"/>
                </VBox.margin>
                <Button fx:id="saveBtn" mnemonicParsing="false"
                    styleClass="btn,btn-primary" text="保存"/>
                <Button fx:id="copyBtn" mnemonicParsing="false"
                    styleClass="btn,btn-outline-secondary" text="复制"/>
            </HBox>
        </VBox>
    </SplitPane>
</VBox>